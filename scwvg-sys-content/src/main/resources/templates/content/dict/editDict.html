<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:scwvg="">
<head>
    <meta charset="utf-8">
    <title>数据字典编辑</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="../../../static/layui/css/layui.css"
          th:href="@{/layui/css/layui.css}"
          media="all">
</head>
<body>

<form class="layui-form" action="" id="editDictForm">
    <div class="layui-row layui-col-space10">
        <div class="layui-col-xs12">
            <div class="layui-form-item">
                <label class="layui-form-label"><b color="red">*</b>类型代码</label>
                <div class="layui-input-block">
                    <input type="text" name="dictTypeCode" id="dictTypeCode" placeholder="类型代码"
                           class="layui-input" maxlength="512">
                    <input type="hidden" name="id" id="id" value="">
                </div>
            </div>
        </div>
    </div>
    <div class="layui-row layui-col-space10">
        <div class="layui-col-xs12">
            <div class="layui-form-item">
                <label class="layui-form-label"><b color="red">*</b>类型名称</label>
                <div class="layui-input-block">
                    <input type="text" name="dictTypeName" id="dictTypeName" placeholder="类型名称"
                           class="layui-input">
                </div>
            </div>
        </div>
    </div>
    <div class="layui-row layui-col-space10">
        <div class="layui-col-xs12">
            <div class="layui-form-item">
                <label class="layui-form-label"><b color="red">*</b>类型项代码</label>
                <div class="layui-input-block">
                    <input type="text" name="dictId" id="dictId" placeholder="类型项代码"
                           class="layui-input">
                </div>
            </div>
        </div>
    </div>
    <div class="layui-row layui-col-space10">
        <div class="layui-col-xs12">
            <div class="layui-form-item">
                <label class="layui-form-label"><b color="red">*</b>类型项名称</label>
                <div class="layui-input-block">
                    <input type="text" name="dictName" id="dictName" placeholder="类型项名称"
                           class="layui-input">
                </div>
            </div>
        </div>
    </div>
    <div class="layui-row layui-col-space10">
        <div class="layui-col-xs12">
            <div class="layui-form-item">
                <label class="layui-form-label">排序</label>
                <div class="layui-input-block">
                    <input type="text" name="sort" id="sort" placeholder="排序"
                           autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
    </div>
</form>


<script src="../../../static/layui/layui.js"
    th:src="@{/layui/layui.js}"></script>
<script>
    layui.config({
        base: '/' //静态资源所在路径
    }).extend({
        index: 'lib/index' //主入口模块
    }).use(['index', 'form', 'table'], function(){
        var $ = layui.$,
            form = layui.form,
            table = layui.table;
    })
    var editDict={
        init:function(id){
            $.ajax({
                url: "/sys/dict/getDict",
                type: 'POST',
                data:{
                    id:id
                }
                ,beforeSend(request) {
                    // 添加  CSRF Token
                    request.setRequestHeader(csrfHeader, csrfToken);
                },
                success($data){
                    //处理数据
                    if($data.data=="0"){
                        $('#dictTypeCode').val($data.data["dictTypeCode"]);
                        $('#dictTypeCode').attr('readonly','readonly');
                        $('#dictTypeName').val($data.data["dictTypeName"]);
                        $('#dictTypeName').attr('readonly','readonly');
                        $('#dictId').val($data.data["dictId"]);
                        $('#dictName').val($data.data["dictName"]);
                        $('#id').val($data.data["id"]);
                        $('#sort').val($data.data["sort"]);
                    }else{
                        top.layer.alert($data.msg, {icon : 2,zIndex: top.layer.zIndex});
                    }
                }
            })
        },
        getData:function(){
            var data={
                id:$('#id').val(),
                dictTypeCode:$('#dictTypeCode').val(),
                dictTypeName:$('#dictTypeName').val(),
                dictId:$('#dictId').val(),
                dictName:$('#dictName').val(),
                sort:$('#sort').val()
            };
            return data;
        }
    };
</script>
</body>
</html>