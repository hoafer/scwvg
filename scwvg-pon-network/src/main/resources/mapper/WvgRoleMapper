<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.scwvg.mappers.WvgRoleMapper">
    <select id="countRole" resultType="int">
        select count(1) from wvg_role t
        <include refid="where" />
    </select>

    <select id="queryRolelist" resultType="WvgRole">
        select * from wvg_role t
        <include refid="where" />
        ${params.orderBy}
        <if test="offset != null and offset >= 0 and limit != null and limit >= 0">
            limit #{offset}, #{limit}
        </if>
    </select>
    <insert id="saveRoleMenu">
        insert into wvg_role_menu(wvg_role_id, wvg_menu_id) values
        <foreach collection="wvg_menu_ids" item="wvg_menu_id"
                 separator=",">
            (#{wvg_role_id}, #{wvg_menu_id})
        </foreach>
    </insert>
</mapper>